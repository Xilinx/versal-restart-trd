


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../_static/js/header-footer.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Run Images on Target" href="run.html" />
    <link rel="prev" title="1. Revision History" href="revision.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Versal Restart TRD
          

          
          </a>

          
            
            
              <div class="version">
                2.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="revision.html">1. Revision History</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#features">2.1. Features:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hardware-design">2.2. Hardware Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="#subsystem-definition">2.3. Subsystem Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#software-stack">2.4. Software Stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="#package">2.5. Package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#binaries">2.5.1. Binaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sources">2.5.2. Sources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#licenses">2.6. Licenses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="run.html">3. Run Images on Target</a></li>
<li class="toctree-l1"><a class="reference internal" href="build-hw.html">4. Build the Vivado Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="build-sw.html">5. Build Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">6. Appendix</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../_sources/pages/intro.rst.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Versal Restart TRD</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>2. Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/pages/intro.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction">
<span id="intro"></span><h1>2. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>The Versal System and Subsystem Restart TRD (<strong>VSSR TRD</strong>), also referred to as
<strong>Versal Restart TRD</strong>, demonstrates how to restart various components of a system.
It also showcases the liveliness of a subsystem while another subsystem is undergoing
restart.</p>
<p>The TRD consists of a baseline Vivado design, Petalinux, Jupyter notebooks and other
software components to demonstrate different restart scenarios.</p>
<div class="section" id="features">
<h2>2.1. Features:<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Subsystem definitions<ul>
<li>APU subsystem running Linux</li>
<li>RPU Lockstep running a PM-aware standalone application.</li>
</ul>
</li>
<li>Jupyter lab based user interface, with dashboard layout</li>
<li>Libmetal shared-memory communication channel between APU and RPU subsystem</li>
<li>Healthy boot monitoring for the subsystems</li>
<li>Watchdog monitoring for the subsystems after boot.</li>
<li>Demonstration of following restart scenarios:<ul>
<li>Subsystem Restart for Linux system running on APU</li>
<li>Subsystem Restart for Standalone system running on RPU</li>
<li>System Restart by APU</li>
<li>System Restart by RPU</li>
<li>System recovery due to boot hang during Linux boot.</li>
<li>System recovery due to bad boot during Standalone RPU boot.</li>
<li>System recovery due to Linux hang (by forcing FPD watchdog expiry)</li>
<li>System recovery due to RPU hang (by forcing LPD watchdog expiry)</li>
</ul>
</li>
<li>Supports multiple platforms:<ul>
<li><a class="reference external" href="https://www.xilinx.com/products/boards-and-kits/vck190.html">VCK190 Evaluation boards</a></li>
<li><a class="reference external" href="https://www.xilinx.com/member/vck190_headstart.html">VCK190 Evaluation boards HeadStart Early Access (ES1)</a></li>
<li><a class="reference external" href="https://www.xilinx.com/products/boards-and-kits/vmk180.html">VMK180 Evaluation boards</a></li>
<li><a class="reference external" href="https://www.xilinx.com/member/vmk180_headstart.html">VMK180 Evaluation boards HeadStart Early Access (ES1)</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="hardware-design">
<h2>2.2. Hardware Design<a class="headerlink" href="#hardware-design" title="Permalink to this headline">¶</a></h2>
<p>The base design is a simple example of an APU subsystem with a register-based PL
design to allow the user to check if a PL subsystem was re-programmed or reset
without the user actively issuing a reset.  In the pl_alive module, there is register that uses the
Power On Reset (POR) mechanism of the Versal device to set a register to a high
value on initial power up.  This register is reset to a low value by the APU writing to a
register and should stay low as long as the PL is operational.  There is also a pulse
input to the module that acts as a heartbeat to the PL indicating that the APU is also
alive.  The pl_alive module takes this pulse signal and toggles an output port on the module which
can be read by the APU to see that the PL is responding to the pulse signal. There is also an
AXI GPIO module that has a fixed unique value for the software to read, which is used to detect
the design version in the PL.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/base_subsystem_restart_concept_diagram.png"><img alt="System Design Block Diagram" src="../_images/base_subsystem_restart_concept_diagram.png" style="width: 50%;" /></a>
</div>
</div>
<div class="section" id="subsystem-definition">
<h2>2.3. Subsystem Definition<a class="headerlink" href="#subsystem-definition" title="Permalink to this headline">¶</a></h2>
<p>The subsystem definition is important for the PLM to:</p>
<ul class="simple">
<li>Identify a subsystem by its ID</li>
<li>Track the access permission of various peripheral for the subsystem</li>
<li>Make sure the pre-alloced peripherals are available when the subsystem is loaded.</li>
<li>Enable healthy boot monitoring for the subsystem.</li>
</ul>
<p>The TRD defines two subsystems, <strong>APU Subsystem</strong> running Linux on SMP Cortex A72 cores and <strong>RPU Subsystem</strong>
running standalone application on Lock-Step Cortex R5 cores.</p>
<p>Following table describes example of some peripheral permission for subsystems in the TRD:</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="23%" />
<col width="20%" />
<col width="30%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Peripheral</th>
<th class="head">Subsystem</th>
<th class="head">Pre-alloced</th>
<th class="head">Access Permission</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Uart_0</td>
<td>APU</td>
<td>Yes</td>
<td>Shared</td>
</tr>
<tr class="row-odd"><td>Uart_1</td>
<td>RPU</td>
<td>Yes</td>
<td>Exclusive</td>
</tr>
<tr class="row-even"><td>Sdio_1</td>
<td>APU</td>
<td>Yes</td>
<td>No Restriction</td>
</tr>
<tr class="row-odd"><td>Swdt_fpd</td>
<td>APU</td>
<td>No</td>
<td>Time-shared</td>
</tr>
<tr class="row-even"><td>Swdt_lpd</td>
<td>RPU</td>
<td>No</td>
<td>Time-shared</td>
</tr>
<tr class="row-odd"><td>Gem_0</td>
<td>APU</td>
<td>Yes</td>
<td>Exclusive</td>
</tr>
<tr class="row-even"><td>HB_MON_0</td>
<td>APU</td>
<td>Yes</td>
<td>Exclusive</td>
</tr>
<tr class="row-odd"><td>HB_MON_1</td>
<td>RPU</td>
<td>Yes</td>
<td>Exclusive</td>
</tr>
</tbody>
</table>
<p>Detail subsystem definition is available in the sources under <em>hw/common/subsystem.cdo</em> file.</p>
</div>
<div class="section" id="software-stack">
<h2>2.4. Software Stack<a class="headerlink" href="#software-stack" title="Permalink to this headline">¶</a></h2>
<p>This section list the software pieces involved in demonstrating the TRD features.</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="15%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Software</th>
<th class="head">Processor</th>
<th class="head">Function with respect to TRD use cases</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>PLM</td>
<td>PMC</td>
<td>Controls various restarts and maintains the life cycle of the
subsystem.</td>
</tr>
<tr class="row-odd"><td>ATF</td>
<td>APU</td>
<td>Arm Trusted firmware (Running on ARM EL3) interacts directly with
PLM (through IPI) for various PM activities, including restarts.
Like all PM related requests, Linux’s system and subsystem
restart requests are eventually handled by ATF.</td>
</tr>
<tr class="row-even"><td>XilPm Client lib</td>
<td>RPU LS</td>
<td>This is the client side API library to issue PM requests to PLM.
RPU application issues various PM requests, including restarts
through this library to the PLM.</td>
</tr>
<tr class="row-odd"><td>Linux</td>
<td>APU</td>
<td>Hosts Jupyter Notebook server to demonstrate TRD features.
It also manages various APU peripherals, including FPD WDT
through the respective drivers. Linux Runs on ARM EL2.</td>
</tr>
<tr class="row-even"><td>Standalone App</td>
<td>RPU LS</td>
<td>PM aware application with standalone OS. It uses standalone
drivers to control various peripherals, like UART and LPD WDT.
It also establish and uses libmetal shared memory based
communication channel with APU.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There are other software pieces in the stack, like u-boot, psm-firmware, etc. but are not mentioned
above as they don’t actively participates in TRD demonstration.</p>
</div>
<p>Below diagram shows relationship and interaction between above pieces:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/sw_stack.png"><img alt="SW Stack" src="../_images/sw_stack.png" style="width: 50%;" /></a>
</div>
<p>Please refer <a class="reference external" href="https://www.xilinx.com/support/documentation/sw_manuals/xilinx2021_1/ug1304-versal-acap-ssdg.pdf">Versal ACAP System Software Developers Guide</a> for more details on software stack and detailed development guide for each component.</p>
<p>Refer to <strong>Restart Use Cases</strong> section in the <a class="reference internal" href="appendix.html#appendix"><span class="std std-ref">Appendix</span></a> for details on each of the TRD use cases and the software components involved.</p>
</div>
<div class="section" id="package">
<h2>2.5. Package<a class="headerlink" href="#package" title="Permalink to this headline">¶</a></h2>
<p>The reference design package contains of 2 parts:</p>
<ul class="simple">
<li>Binaries<ul>
<li>Pre-built binaries</li>
<li>Available in <a class="reference external" href="https://github.com/Xilinx/versal-restart-trd/blob/xilinx-v2021.1/README.md#prebuilt-images">zip file</a> for each board variant</li>
</ul>
</li>
<li>Sources<ul>
<li>Sources and build scripts to build hardware, software and documentation.</li>
<li>Available in the <a class="reference external" href="https://github.com/Xilinx/versal-restart-trd">git repository</a>.</li>
</ul>
</li>
</ul>
<div class="section" id="binaries">
<h3>2.5.1. Binaries<a class="headerlink" href="#binaries" title="Permalink to this headline">¶</a></h3>
<p>Download the <a class="reference external" href="https://github.com/Xilinx/versal-restart-trd/blob/xilinx-v2021.1/README.md#prebuilt-images">zip file</a> from Xilinx.com, for the specific board variant.</p>
<p>It has the following contents:</p>
<ul class="simple">
<li>Pre-built SD card image</li>
<li>Artifacts from hardware and software builds under <em>reference_images/</em></li>
<li>README file</li>
</ul>
<p>The zip contents for <strong>vck190-prod</strong> are as follow</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>vssr-trd-pb-vck190-prod-2021.1.zip
│
vssr-trd-vck190-prod
├── LICENSE
├── prebuilt
│   ├── petalinux-sdimage.wic.xz
│   └── reference_images/
│       ├── bl31.elf
│       ├── boot.bif
│       ├── BOOT.BIN
│       ├── boot.scr
│       ├── Image
│       ├── plm.elf
│       ├── psmfw.elf
│       ├── ramdisk.cpio.gz.u-boot
│       ├── rootfs.tar.gz
│       ├── rpu_app.elf
│       ├── system.dtb
│       ├── u-boot.elf
│       ├── versal_restart_trd_wrapper.pdi
│       └── versal_restart_trd_wrapper.xsa
└── README
</pre></div>
</div>
<p>Same file structure is available for other 3 variants (vck190-es1, vmk180-prod, vmk180-es1) as well.</p>
</div>
<div class="section" id="sources">
<h3>2.5.2. Sources<a class="headerlink" href="#sources" title="Permalink to this headline">¶</a></h3>
<p>Sources for the TRD are available in the git repository.
It provides:</p>
<ul class="simple">
<li>Sources for the hardware design</li>
<li>Sources for the TRD yocto layer (used in Petalinux)</li>
<li>Sources for the standalone rpu application</li>
<li>Sources for the documentation</li>
<li>Makefiles and Scripts to build all the sources</li>
</ul>
<p>Clone the git repository for the current release tag.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create and move to directory where the source repository is to be cloned</span>
<span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">&lt;/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">source</span><span class="o">/</span><span class="n">repo</span><span class="o">&gt;</span>
<span class="n">cd</span> <span class="o">&lt;/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">source</span><span class="o">/</span><span class="n">repo</span><span class="o">&gt;</span>

<span class="c1"># clone and switch to current release tag (xilinx-v2021.1)</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Xilinx</span><span class="o">/</span><span class="n">versal</span><span class="o">-</span><span class="n">restart</span><span class="o">-</span><span class="n">trd</span><span class="o">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">xilinx</span><span class="o">-</span><span class="n">v2021</span><span class="o">.</span><span class="mi">1</span> <span class="n">xilinx</span><span class="o">-</span><span class="n">v2021</span><span class="o">.</span><span class="mi">1</span>
</pre></div>
</div>
<p>From the cloned area, run <code class="code docutils literal notranslate"><span class="pre">make</span> <span class="pre">help</span></code> to see various build options.</p>
<p>The repository directory structure is as follow:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>versal-restart-trd
├── docs
│   ├── ... document sources
│   └── Makefile           # Documentation Makefile
├── hw
│   ├── common             # Common constraints and subsystem definition
│   ├── ip_repo
│   ├── Makefile           # Hardware Makefile
│   ├── vck190_es1_base    # sources for each variants
│   ├── vck190_prod_base
│   ├── vmk180_es1_base
│   └── vmk180_prod_base
├── LICENSE
├── Makefile               # Top level Makefile
├── README.md
└── sw
    ├── Makefile           # Software Makefile
    ├── scripts            # Script to configure or build
    ├── standalone-srcs    # Rpu application sources
    └── yocto-layers       # Yocto layers to be included in TRD
</pre></div>
</div>
</div>
</div>
<div class="section" id="licenses">
<h2>2.6. Licenses<a class="headerlink" href="#licenses" title="Permalink to this headline">¶</a></h2>
<p>The design includes files licensed by Xilinx and third parties under the terms
of the GNU General Public License, GNU Lesser General Public License,
BSD License, MIT License, and other licenses.</p>
<p>Licenses for rootfs files are included in the /usr/share/licenses directory when
the image file is built. DNF package manager can be used to list all packages in the
image as well as download all the sources for all the packages.</p>
<p>LICENSE file included the prebuilt image’s <a class="reference external" href="https://github.com/Xilinx/versal-restart-trd/blob/xilinx-v2021.1/README.md#prebuilt-images">zip file</a> details the licenses of the packages
used in the prebuilt images.</p>
<p>You are solely responsible for checking any files you
use for notices and licenses and for complying with any terms applicable to your
use of the design and any third party files supplied with the design.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="run.html" class="btn btn-neutral float-right" title="3. Run Images on Target" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="revision.html" class="btn btn-neutral float-left" title="1. Revision History" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on August 06, 2021.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2021, Xilinx
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>